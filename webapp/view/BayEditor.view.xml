<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="dummenorangetnv.controller.BayEditor"
	xmlns:html="http://www.w3.org/1999/xhtml" xmlns:ux="sap.uxap" xmlns:layout="sap.ui.layout" xmlns:cc="dummenorangetnv.control" xmlns:c="sap.ui.commons">
	<Page 
	    title="BayEditor" 
	    enableScrolling="false"
	    showHeader="false">
		<Toolbar height="10rem" class="orangeHeader">
			<mvc:XMLView viewName="dummenorangetnv.view.BayDetailsHeader"/>
		</Toolbar>
		<Bar>
			<contentLeft>
				<Label text="Date:" class="sapUiSmallMarginBegin"/>
				<Label id="date_text_id" class="sap-custom-font-size" text="1970-01-01"></Label>
			</contentLeft>
			<contentRight>
				<Button icon="sap-icon://sys-cancel-2" press="onPrevPage"/>
				<Button icon="sap-icon://sys-enter-2" press="onPrevPage"/>
			</contentRight>
		</Bar>
		<cc:BayTable id="bay_table_id" items="{path: '/data'}">
			<cc:columns>
				<cc:BayColumn text="GH-bay" colspan="2"/>
				<cc:BayColumn text="" />
				<cc:BayColumn text="%" />
				<cc:BayColumn text="Plants" />
				<cc:BayColumn text="p/m2" />
				<cc:BayColumn text="Planted" />
				<cc:BayColumn text="root" />
				<cc:BayColumn text="VEG" />
				<cc:BayColumn text="REA" />
				<cc:BayColumn text="Harv" />
				<cc:BayColumn text="OOG" />
				<cc:BayColumn text="Vaca" />
			</cc:columns>
			<cc:BayRowGroup
				ghbay="{gh_bay}"
				rows="{plant}"
				oddweek="{
			                path: 'plant/0/planted_date',
					        formatter: '.formatOddWeek'
				        }">
			    <cc:BayRow>
					<cc:BayCell>
					    <ObjectNumber 
							number=""
							emphasized="false"/>
					</cc:BayCell>
					<cc:BayCell>
			            <Button 
    			            icon="sap-icon://decline" 
    			            press="deleteBayRow"/>
					</cc:BayCell>
					<cc:BayCell
					    rederror="{
					                path: 'processed',
							        type:'sap.ui.model.type.Boolean',
							        formatter: '.formatProcessed'
						        }">
						<Text text="{name}" />
					</cc:BayCell>
					<cc:BayCell>
				        <Input 
				            value="{
				                        path: 'percent',
				                        formatter: '.formatPercent'
				                   }"/>
					</cc:BayCell>
					<cc:BayCell>
					    <Input 
					        value="{plants}"/>
					</cc:BayCell>
					<cc:BayCell>
					    <Input 
					        value="{density}"/>
					</cc:BayCell>
					<cc:BayCell>
					    <DatePicker
					        width="120px"
					        placeholder=" "
					        valueFormat="yyyy-ww-u"
					        displayFormat="yyyy-ww-u"
					        dateValue="{
					                        path: 'planted_date',
					                        formatter: '.formatDate'
					                    }"/>
					</cc:BayCell>
					<cc:BayCell>
					    <Input 
					        value="{root}"/>
					</cc:BayCell>
					<cc:BayCell>
					    <Input 
					        value="{veg}"/>
					</cc:BayCell>
					<cc:BayCell>
					    <Input 
					        value="{rea}"/>
					</cc:BayCell>
					<cc:BayCell>
					    <Input 
					        value="{horv}"/>
					</cc:BayCell>
					<cc:BayCell>
					    <DatePicker
					        width="120px"
					        placeholder=" "
					        valueFormat="yyyy-MM-u"
					        displayFormat="yyyy-ww-u"
        			        dateValue="{
            		                        path: 'oog_date',
            		                        formatter: '.formatDate'
            		                    }"/>
					</cc:BayCell>
					<cc:BayCell>
					    <Input 
					        value="{vaca}"/>
					</cc:BayCell>
				</cc:BayRow>
				<cc:ftcells>
				    <cc:BayCell />
				    <cc:BayCell />
			        <cc:BayCell>
			            <c:ProgressIndicator 
			                class="progress-bar-text-middle"
			                percentValue="{
    			                        path: 'plant',
    			                        formatter: '.calculatePercentInt'
			                        }"
			                height="4em"
			                displayValue="{
    			                        path: 'plant',
    			                        formatter: '.calculatePercentFloat'
			                        } %"/>
			        </cc:BayCell>
			        <cc:BayCell
			            colspan="9">
			            <TextArea
			                width="100%"
			                rows="1"
			                value="{comments}"/>
			        </cc:BayCell>
			        <cc:BayCell />
				</cc:ftcells>
			</cc:BayRowGroup>
		</cc:BayTable>
	</Page>
</mvc:View>